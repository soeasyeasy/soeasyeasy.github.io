import{_ as s,c as n,a as e,o as t}from"./app-qwDAWgIM.js";const l={};function i(c,a){return t(),n("div",null,a[0]||(a[0]=[e(`<p>åœ¨ ELK è¿™ä¸ªæœ¯è¯­ä¸­ï¼Œ&quot;L&quot; ä»£è¡¨ <strong>Logstash</strong>ã€‚ELK æ˜¯ä¸€ä¸ªæµè¡Œçš„å¼€æºæ—¥å¿—ç®¡ç†å¹³å°çš„ç¼©å†™ï¼Œå®ƒç”±ä¸‰ä¸ªä¸»è¦ç»„ä»¶ç»„æˆï¼š</p><ol><li><strong>Elasticsearch</strong>ï¼šç”¨äºå­˜å‚¨ã€æœç´¢å’Œåˆ†ææ—¥å¿—æ•°æ®åŠå…¶ä»–æ•°æ®çš„åˆ†å¸ƒå¼æœç´¢å¼•æ“ã€‚</li><li><strong>Logstash</strong>ï¼š&quot;L&quot; æ‰€æŒ‡çš„éƒ¨åˆ†ï¼Œæ˜¯ä¸€ä¸ªæœåŠ¡å™¨ç«¯çš„æ•°æ®å¤„ç†ç®¡é“ï¼Œèƒ½å¤ŸåŒæ—¶ä»å¤šä¸ªæ¥æºé‡‡é›†æ•°æ®ï¼Œè¿›è¡Œè½¬æ¢ï¼Œç„¶åå°†æ•°æ®å‘é€åˆ°ä½ é€‰æ‹©çš„â€œå­˜å‚¨åº“â€ä¸­ï¼Œå¦‚ Elasticsearchã€‚</li><li><strong>Kibana</strong>ï¼šæä¾›äº†ä¸€ä¸ªå¯è§†åŒ–çš„ç•Œé¢ï¼Œç”¨äºæµè§ˆã€æœç´¢ã€åˆ†æå’Œå±•ç¤ºå­˜å‚¨åœ¨ Elasticsearch ä¸­çš„æ•°æ®ã€‚</li></ol><h3 id="logstash-çš„ä¸»è¦åŠŸèƒ½" tabindex="-1"><a class="header-anchor" href="#logstash-çš„ä¸»è¦åŠŸèƒ½"><span>Logstash çš„ä¸»è¦åŠŸèƒ½</span></a></h3><ul><li><strong>æ•°æ®æ”¶é›†</strong>ï¼šå¯ä»¥ä»å„ç§æ•°æ®æºï¼ˆå¦‚æ—¥å¿—æ–‡ä»¶ã€ç³»ç»ŸæŒ‡æ ‡ã€ç½‘ç»œæµç­‰ï¼‰é‡‡é›†æ•°æ®ã€‚</li><li><strong>æ•°æ®å¤„ç†</strong>ï¼šé€šè¿‡ä¸°å¯Œçš„è¿‡æ»¤å™¨æ’ä»¶å¯¹è¾“å…¥çš„æ•°æ®è¿›è¡Œè§£æã€æ ¼å¼åŒ–ã€ä¿®æ”¹æˆ–å¢å¼ºã€‚ä¾‹å¦‚ï¼Œå¯ä»¥ä½¿ç”¨ Grok è§£æéç»“æ„åŒ–æ—¥å¿—æ•°æ®å¹¶ä½¿å…¶ç»“æ„åŒ–ã€‚</li><li><strong>æ•°æ®è¾“å‡º</strong>ï¼šå¯ä»¥å°†å¤„ç†åçš„æ•°æ®å‘é€åˆ°ä¸åŒçš„ç›®çš„åœ°ï¼Œæœ€å¸¸è§çš„æ˜¯ Elasticsearchï¼Œä½†ä¹Ÿå¯ä»¥é…ç½®ä¸ºå…¶ä»–è¾“å‡ºç›®æ ‡ï¼Œå¦‚æ–‡ä»¶ã€ç”µå­é‚®ä»¶ã€æ•°æ®åº“ç­‰ã€‚</li></ul><h3 id="logstash-å·¥ä½œæµç¨‹" tabindex="-1"><a class="header-anchor" href="#logstash-å·¥ä½œæµç¨‹"><span>Logstash å·¥ä½œæµç¨‹</span></a></h3><ol><li><strong>Inputsï¼ˆè¾“å…¥ï¼‰</strong>ï¼šå®šä¹‰å¦‚ä½•ä»ä¸åŒæºå¤´é‡‡é›†æ•°æ®ã€‚æ”¯æŒå¤šç§è¾“å…¥æ’ä»¶ï¼ŒåŒ…æ‹¬æ–‡ä»¶ã€syslogã€beats ç­‰ã€‚</li><li><strong>Filtersï¼ˆè¿‡æ»¤å™¨ï¼‰</strong>ï¼šç”¨äºå¤„ç†å’Œè§£æè¾“å…¥çš„æ•°æ®ã€‚ä¾‹å¦‚ï¼Œä½ å¯ä»¥ä½¿ç”¨è¿‡æ»¤å™¨æ¥è§£ææ—¥å¿—è¡Œï¼Œæ·»åŠ åœ°ç†ä¿¡æ¯ï¼Œç§»é™¤æ•æ„Ÿæ•°æ®ç­‰ã€‚</li><li><strong>Outputsï¼ˆè¾“å‡ºï¼‰</strong>ï¼šæŒ‡å®šå¤„ç†å®Œçš„æ•°æ®åº”è¯¥å‘é€åˆ°å“ªé‡Œã€‚æœ€å¸¸è§çš„è¾“å‡ºæ˜¯ Elasticsearchï¼Œä½†ä¹Ÿå¯ä»¥æ˜¯å…¶ä»–å½¢å¼ï¼Œæ¯”å¦‚å‘é€è­¦æŠ¥åˆ°ç”µå­é‚®ä»¶æˆ–ä¿å­˜åˆ°æ–‡ä»¶ç³»ç»Ÿä¸­ã€‚</li></ol><h3 id="ç¤ºä¾‹åœºæ™¯" tabindex="-1"><a class="header-anchor" href="#ç¤ºä¾‹åœºæ™¯"><span>ç¤ºä¾‹åœºæ™¯</span></a></h3><p>å‡è®¾ä½ æœ‰ä¸€ä¸ª Web åº”ç”¨ç¨‹åºï¼Œå®ƒç”Ÿæˆå¤§é‡çš„è®¿é—®æ—¥å¿—ã€‚ä½ å¯ä»¥é…ç½® Logstash æ¥è¯»å–è¿™äº›æ—¥å¿—æ–‡ä»¶ï¼ˆInputï¼‰ï¼Œä½¿ç”¨ Grok è¿‡æ»¤å™¨è§£ææ¯ä¸€è¡Œæ—¥å¿—ä»¥æå–æœ‰ç”¨çš„ä¿¡æ¯ï¼ˆFilterï¼‰ï¼Œç„¶åå°†è§£æåçš„æ•°æ®å‘é€åˆ° Elasticsearchï¼ˆOutputï¼‰ã€‚ä¹‹åï¼Œä½¿ç”¨ Kibana å¯ä»¥åˆ›å»ºä»ªè¡¨æ¿æ¥å¯è§†åŒ–è¿™äº›æ—¥å¿—æ•°æ®ï¼Œå¸®åŠ©ä½ æ›´å¥½åœ°ç†è§£åº”ç”¨çš„è¡Œä¸ºå’Œæ€§èƒ½ã€‚</p><h3 id="æ›¿ä»£æ–¹æ¡ˆ" tabindex="-1"><a class="header-anchor" href="#æ›¿ä»£æ–¹æ¡ˆ"><span>æ›¿ä»£æ–¹æ¡ˆ</span></a></h3><p>å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œåœ¨ä¸€äº›åœºæ™¯ä¸‹ï¼Œç”¨æˆ·å¯èƒ½ä¼šé€‰æ‹©ä¸ä½¿ç”¨ Logstashï¼Œè€Œæ˜¯ä½¿ç”¨æ›´è½»é‡çº§çš„è§£å†³æ–¹æ¡ˆï¼Œå¦‚ <strong>Filebeat</strong> æˆ–è€… <strong>Metricbeat</strong>ï¼Œå®ƒä»¬å±äº Elastic çš„ Beats ç³»åˆ—ã€‚Beats èƒ½å¤Ÿç›´æ¥å‘ Elasticsearch å‘é€æ•°æ®ï¼Œå¹¶ä¸”ä¸ Logstash ç»“åˆä½¿ç”¨æ—¶ä¹Ÿèƒ½å‡å°‘èµ„æºæ¶ˆè€—ã€‚è¿™ç§æƒ…å†µä¸‹ï¼Œæ¶æ„å¯èƒ½è¢«ç§°ä¸º <strong>EFK</strong>ï¼ˆElasticsearch, Filebeat/Kibanaï¼‰ã€‚ä¸è¿‡ï¼Œå½“éœ€è¦å¤æ‚çš„æ•°æ®å¤„ç†é€»è¾‘æ—¶ï¼ŒLogstash ä»ç„¶æ˜¯ä¸å¯æˆ–ç¼ºçš„é€‰æ‹©ã€‚</p><p><code>spring-data-elasticsearch:5.0.7</code> æ˜¯ Spring Data Elasticsearch çš„ä¸€ä¸ªç‰ˆæœ¬ï¼Œå®ƒåŸºäº <strong>Elasticsearch 7.17.x</strong> å®¢æˆ·ç«¯ã€‚</p><hr><h3 id="âœ…-å¯¹åº”å…³ç³»-spring-data-elasticsearch-5-0-x-â†’-elasticsearch-7-17-x" tabindex="-1"><a class="header-anchor" href="#âœ…-å¯¹åº”å…³ç³»-spring-data-elasticsearch-5-0-x-â†’-elasticsearch-7-17-x"><span>âœ… å¯¹åº”å…³ç³»ï¼šSpring Data Elasticsearch 5.0.x â†’ Elasticsearch 7.17.x</span></a></h3><table><thead><tr><th>ç»„ä»¶</th><th>ç‰ˆæœ¬</th></tr></thead><tbody><tr><td><strong>Spring Data Elasticsearch</strong></td><td><code>5.0.7</code></td></tr><tr><td><strong>åº•å±‚ Elasticsearch Java Client</strong></td><td><strong>7.17.x</strong>ï¼ˆTransport Client / RestHighLevelClientï¼‰</td></tr><tr><td><strong>å…¼å®¹çš„ Elasticsearch æœåŠ¡ç«¯ç‰ˆæœ¬</strong></td><td><strong>7.17.x</strong></td></tr></tbody></table><blockquote><p>âš ï¸ æ³¨æ„ï¼šSpring Data Elasticsearch 5.x <strong>ä¸ä½¿ç”¨</strong>æ–°çš„ <code>co.elastic.clients:elasticsearch-java</code>ï¼ˆå³ 8.x çš„ Java API Clientï¼‰ï¼Œè€Œæ˜¯åŸºäºæ—§çš„ <strong><code>org.elasticsearch.client:rest-high-level-client</code></strong>ï¼ˆ7.17.xï¼‰ã€‚</p></blockquote><hr><h3 id="ğŸ³-docker-é•œåƒæ¨è" tabindex="-1"><a class="header-anchor" href="#ğŸ³-docker-é•œåƒæ¨è"><span>ğŸ³ Docker é•œåƒæ¨è</span></a></h3><p>å› æ­¤ï¼Œæ‚¨åº”è¯¥ä½¿ç”¨ <strong>Elasticsearch 7.17.x</strong> çš„ Docker é•œåƒï¼Œä¾‹å¦‚ï¼š</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">docker</span> run <span class="token parameter variable">-d</span> <span class="token punctuation">\\</span></span>
<span class="line">  <span class="token parameter variable">--name</span> elasticsearch <span class="token punctuation">\\</span></span>
<span class="line">  <span class="token parameter variable">-p</span> <span class="token number">9200</span>:9200 <span class="token punctuation">\\</span></span>
<span class="line">  <span class="token parameter variable">-p</span> <span class="token number">9300</span>:9300 <span class="token punctuation">\\</span></span>
<span class="line">  <span class="token parameter variable">-e</span> <span class="token string">&quot;discovery.type=single-node&quot;</span> <span class="token punctuation">\\</span></span>
<span class="line">  <span class="token parameter variable">-e</span> <span class="token string">&quot;xpack.security.enabled=false&quot;</span> <span class="token punctuation">\\</span></span>
<span class="line">  docker.elastic.co/elasticsearch/elasticsearch:7.17.18</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>âœ… æ¨èç‰ˆæœ¬ï¼š<code>7.17.18</code>ï¼ˆ7.x æœ€ç»ˆç‰ˆæœ¬ï¼Œç¨³å®šã€å®‰å…¨è¡¥ä¸æ›´æ–°ï¼‰</p><hr><h3 id="ğŸ”—-ç‰ˆæœ¬å¯¹åº”è¡¨-spring-data-elasticsearch-â†’-elasticsearch" tabindex="-1"><a class="header-anchor" href="#ğŸ”—-ç‰ˆæœ¬å¯¹åº”è¡¨-spring-data-elasticsearch-â†’-elasticsearch"><span>ğŸ”— ç‰ˆæœ¬å¯¹åº”è¡¨ï¼ˆSpring Data Elasticsearch â†’ Elasticsearchï¼‰</span></a></h3><table><thead><tr><th>Spring Data Elasticsearch</th><th>Spring Boot</th><th>Elasticsearch æœåŠ¡ç«¯</th><th>å®¢æˆ·ç«¯ç±»å‹</th></tr></thead><tbody><tr><td>5.0.x (å¦‚ 5.0.7)</td><td>3.0.x</td><td>7.17.x</td><td><code>RestHighLevelClient</code></td></tr><tr><td>5.1.x</td><td>3.1.x</td><td>7.17.x / 8.7+ï¼ˆæœ‰é™æ”¯æŒï¼‰</td><td>æ··åˆ</td></tr><tr><td>6.0+</td><td>3.2+</td><td>8.9+</td><td><code>java-api-client</code> (<code>co.elastic.clients</code>)</td></tr></tbody></table><blockquote><p>ğŸ“Œ <code>spring-data-elasticsearch:5.0.7</code> å‘å¸ƒäº 2023 å¹´åˆï¼Œæ˜¯ Spring Data 2022.0.x ç‰ˆæœ¬çš„ä¸€éƒ¨åˆ†ï¼Œå¯¹åº” Spring Boot 3.0.xã€‚</p></blockquote><hr><h3 id="âœ…-æ€»ç»“" tabindex="-1"><a class="header-anchor" href="#âœ…-æ€»ç»“"><span>âœ… æ€»ç»“</span></a></h3><ul><li>âœ… <strong>Docker é•œåƒç‰ˆæœ¬</strong>ï¼š<code>elasticsearch:7.17.18</code></li><li>âœ… <strong>Maven ä¾èµ–</strong>ï¼š<div class="language-xml line-numbers-mode" data-highlighter="prismjs" data-ext="xml" data-title="xml"><pre><code><span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.data<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-data-elasticsearch<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>5.0.7<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li>âœ… <strong>å®¢æˆ·ç«¯ç±»å‹</strong>ï¼š<code>RestHighLevelClient</code>ï¼ˆå·²å¼ƒç”¨ï¼Œä½†åœ¨ 7.17 ä¸­ä»å¯ç”¨ï¼‰</li><li>âœ… <strong>è¿æ¥æ–¹å¼</strong>ï¼šHTTP + Transportï¼ˆ9300 ç«¯å£åœ¨ 7.x ä¸­ä»å¯ç”¨ï¼Œä½†æ¨èç”¨ RESTï¼‰</li></ul><hr><h3 id="ğŸ›‘-ä¸è¦ä½¿ç”¨-elasticsearch-8-x-çš„-docker-é•œåƒ" tabindex="-1"><a class="header-anchor" href="#ğŸ›‘-ä¸è¦ä½¿ç”¨-elasticsearch-8-x-çš„-docker-é•œåƒ"><span>ğŸ›‘ ä¸è¦ä½¿ç”¨ Elasticsearch 8.x çš„ Docker é•œåƒ</span></a></h3><p>å¦‚ <code>8.0</code>, <code>8.1</code>, <code>8.13</code> ç­‰ï¼Œè™½ç„¶ <strong>7.17 å®¢æˆ·ç«¯å¯ä»¥è¿æ¥ 8.x æœåŠ¡ç«¯</strong>ï¼ˆå‘åå…¼å®¹ï¼‰ï¼Œä½†ï¼š</p><ul><li>8.x é»˜è®¤å¯ç”¨å®‰å…¨ï¼ˆç”¨æˆ·å/å¯†ç ï¼‰</li><li>æŸäº› API è¡Œä¸ºå˜åŒ–ï¼ˆå¦‚é»˜è®¤åˆ†é¡µå¤§å°ï¼‰</li><li>å¯èƒ½è§¦å‘å¼ƒç”¨è­¦å‘Šæˆ–å…¼å®¹æ€§é—®é¢˜</li></ul><p>æ‰€ä»¥ï¼Œ<strong>æœ€ç¨³å¦¥çš„æ˜¯ä½¿ç”¨ <code>7.17.18</code></strong>ã€‚</p><hr><p>âœ… <strong>æœ€ç»ˆæ¨è Docker å‘½ä»¤</strong>ï¼š</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">docker</span> run <span class="token parameter variable">-d</span> <span class="token punctuation">\\</span></span>
<span class="line">  <span class="token parameter variable">--name</span> es717 <span class="token punctuation">\\</span></span>
<span class="line">  <span class="token parameter variable">-p</span> <span class="token number">9200</span>:9200 <span class="token punctuation">\\</span></span>
<span class="line">  <span class="token parameter variable">-p</span> <span class="token number">9300</span>:9300 <span class="token punctuation">\\</span></span>
<span class="line">  <span class="token parameter variable">-e</span> <span class="token string">&quot;discovery.type=single-node&quot;</span> <span class="token punctuation">\\</span></span>
<span class="line">  <span class="token parameter variable">-e</span> <span class="token string">&quot;xpack.security.enabled=false&quot;</span> <span class="token punctuation">\\</span></span>
<span class="line">  docker.elastic.co/elasticsearch/elasticsearch:7.17.18</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h2 id="âœ…-1-ä»€ä¹ˆæ˜¯-kibana" tabindex="-1"><a class="header-anchor" href="#âœ…-1-ä»€ä¹ˆæ˜¯-kibana"><span>âœ… 1. ä»€ä¹ˆæ˜¯ Kibanaï¼Ÿ</span></a></h2><p>Kibana æ˜¯ Elasticsearch çš„å¯è§†åŒ–ç•Œé¢ï¼Œç”¨äºï¼š</p><ul><li>æŸ¥è¯¢æ•°æ®ï¼ˆDev Toolsï¼‰</li><li>åˆ›å»ºä»ªè¡¨ç›˜ï¼ˆDashboardï¼‰</li><li>ç›‘æ§é›†ç¾¤çŠ¶æ€</li><li>ç®¡ç†ç´¢å¼•ï¼ˆIndex Patterns, Index Managementï¼‰</li></ul><hr><h2 id="âœ…-2-å®‰è£…-kibana-docker-æ–¹å¼-æ¨è" tabindex="-1"><a class="header-anchor" href="#âœ…-2-å®‰è£…-kibana-docker-æ–¹å¼-æ¨è"><span>âœ… 2. å®‰è£… Kibanaï¼ˆDocker æ–¹å¼ï¼Œæ¨èï¼‰</span></a></h2><p>æ‚¨å·²ç»è¿è¡Œäº† Elasticsearch 7.17.18ï¼Œç°åœ¨æ·»åŠ  Kibanaï¼š</p><h3 id="ğŸ³-å¯åŠ¨-kibana-å®¹å™¨" tabindex="-1"><a class="header-anchor" href="#ğŸ³-å¯åŠ¨-kibana-å®¹å™¨"><span>ğŸ³ å¯åŠ¨ Kibana å®¹å™¨</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">docker</span> run <span class="token parameter variable">-d</span> <span class="token punctuation">\\</span></span>
<span class="line">  <span class="token parameter variable">--name</span> kibana <span class="token punctuation">\\</span></span>
<span class="line">  <span class="token parameter variable">-p</span> <span class="token number">5601</span>:5601 <span class="token punctuation">\\</span></span>
<span class="line">  <span class="token parameter variable">--network</span> <span class="token function">host</span> <span class="token punctuation">\\</span>  <span class="token comment"># æˆ–ä½¿ç”¨ --link ä¸ es å®¹å™¨é€šä¿¡</span></span>
<span class="line">  <span class="token parameter variable">-e</span> <span class="token string">&quot;ELASTICSEARCH_HOSTS=http://localhost:9200&quot;</span> <span class="token punctuation">\\</span></span>
<span class="line">  <span class="token parameter variable">-e</span> <span class="token string">&quot;XPACK_SECURITY_ENABLED=false&quot;</span> <span class="token punctuation">\\</span></span>
<span class="line">  docker.elastic.co/kibana/kibana:7.17.18</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>âš ï¸ å¦‚æœ Elasticsearch ä¸åœ¨ <code>localhost</code>ï¼Œè¯·å°† <code>ELASTICSEARCH_HOSTS</code> æ”¹ä¸ºå®é™…åœ°å€ï¼Œå¦‚ï¼š</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token parameter variable">-e</span> <span class="token string">&quot;ELASTICSEARCH_HOSTS=http://192.168.1.100:9200&quot;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></blockquote><hr><h2 id="âœ…-3-è®¿é—®-kibana" tabindex="-1"><a class="header-anchor" href="#âœ…-3-è®¿é—®-kibana"><span>âœ… 3. è®¿é—® Kibana</span></a></h2><p>æ‰“å¼€æµè§ˆå™¨è®¿é—®ï¼š</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">http://localhost:5601</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>æ‚¨å°†çœ‹åˆ° Kibana é¦–é¡µã€‚</p><blockquote><p>ğŸ“Œ ç”±äºæ‚¨ç¦ç”¨äº†å®‰å…¨åŠŸèƒ½ï¼ˆ<code>xpack.security.enabled=false</code>ï¼‰ï¼Œæ— éœ€ç™»å½•å³å¯ä½¿ç”¨ã€‚</p></blockquote><hr><h2 id="âœ…-4-å¸¸ç”¨åŠŸèƒ½å…¥å£" tabindex="-1"><a class="header-anchor" href="#âœ…-4-å¸¸ç”¨åŠŸèƒ½å…¥å£"><span>âœ… 4. å¸¸ç”¨åŠŸèƒ½å…¥å£</span></a></h2><table><thead><tr><th>åŠŸèƒ½</th><th>è·¯å¾„</th><th></th></tr></thead><tbody><tr><td><strong>Dev Toolsï¼ˆæ§åˆ¶å°ï¼‰</strong></td><td><code>http://localhost:5601/app/dev_tools</code></td><td>ç”¨äºæ‰§è¡Œ REST API æŸ¥è¯¢</td></tr><tr><td><strong>Discover</strong></td><td>ä¸»é¡µ</td><td>æŸ¥çœ‹æ–‡æ¡£ã€åˆ›å»º Index Pattern</td></tr><tr><td><strong>Stack Management</strong></td><td>å·¦ä¾§èœå•</td><td>ç®¡ç†ç´¢å¼•ã€æ ‡ç­¾ã€è„šæœ¬ç­‰</td></tr></tbody></table><hr><h2 id="âœ…-5-ç¤ºä¾‹-åœ¨-dev-tools-ä¸­æµ‹è¯•-ids-æŸ¥è¯¢" tabindex="-1"><a class="header-anchor" href="#âœ…-5-ç¤ºä¾‹-åœ¨-dev-tools-ä¸­æµ‹è¯•-ids-æŸ¥è¯¢"><span>âœ… 5. ç¤ºä¾‹ï¼šåœ¨ Dev Tools ä¸­æµ‹è¯• IDs æŸ¥è¯¢</span></a></h2><p>è¿›å…¥ <strong>Dev Tools</strong>ï¼Œè¾“å…¥ï¼š</p><div class="language-json line-numbers-mode" data-highlighter="prismjs" data-ext="json" data-title="json"><pre><code><span class="line">GET /your_index_name/_search</span>
<span class="line"><span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">&quot;query&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">&quot;ids&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token property">&quot;values&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;2&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;3&quot;</span><span class="token punctuation">]</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>æ›¿æ¢ <code>your_index_name</code> ä¸ºæ‚¨çš„å®é™…ç´¢å¼•åã€‚</p><hr><h2 id="âœ…-6-ä¸-spring-data-elasticsearch-é…åˆä½¿ç”¨" tabindex="-1"><a class="header-anchor" href="#âœ…-6-ä¸-spring-data-elasticsearch-é…åˆä½¿ç”¨"><span>âœ… 6. ä¸ Spring Data Elasticsearch é…åˆä½¿ç”¨</span></a></h2><ul><li>Kibana ç”¨äº <strong>è°ƒè¯•ã€æŸ¥çœ‹æ•°æ®ã€éªŒè¯æ˜ å°„ï¼ˆmappingï¼‰</strong></li><li>Spring åº”ç”¨è´Ÿè´£ä¸šåŠ¡é€»è¾‘</li><li>ä¸¤è€…è¿æ¥åŒä¸€ä¸ª Elasticsearch å®ä¾‹</li></ul><hr><h2 id="âœ…-7-æ³¨æ„äº‹é¡¹" tabindex="-1"><a class="header-anchor" href="#âœ…-7-æ³¨æ„äº‹é¡¹"><span>âœ… 7. æ³¨æ„äº‹é¡¹</span></a></h2><table><thead><tr><th>é¡¹ç›®</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td><strong>ç‰ˆæœ¬åŒ¹é…</strong></td><td>Kibana ç‰ˆæœ¬å¿…é¡»ä¸ Elasticsearch <strong>ä¸»ç‰ˆæœ¬ä¸€è‡´</strong>ï¼ˆéƒ½æ˜¯ 7.17.xï¼‰</td></tr><tr><td><strong>å†…å­˜</strong></td><td>Kibana è‡³å°‘éœ€è¦ 1GB å†…å­˜ï¼Œå»ºè®® Docker åˆ†é… 2GB</td></tr><tr><td><strong>ç½‘ç»œ</strong></td><td>ç¡®ä¿ Kibana èƒ½è®¿é—® Elasticsearch çš„ <code>9200</code> ç«¯å£</td></tr><tr><td><strong>ç”Ÿäº§ç¯å¢ƒ</strong></td><td>å»ºè®®å¯ç”¨ <code>xpack.security.enabled=true</code> å¹¶è®¾ç½®å¯†ç </td></tr></tbody></table><hr><h2 id="âœ…-8-åœæ­¢-åˆ é™¤å®¹å™¨" tabindex="-1"><a class="header-anchor" href="#âœ…-8-åœæ­¢-åˆ é™¤å®¹å™¨"><span>âœ… 8. åœæ­¢/åˆ é™¤å®¹å™¨</span></a></h2><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token comment"># åœæ­¢</span></span>
<span class="line"><span class="token function">docker</span> stop kibana</span>
<span class="line"></span>
<span class="line"><span class="token comment"># åˆ é™¤</span></span>
<span class="line"><span class="token function">docker</span> <span class="token function">rm</span> kibana</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><blockquote><p><strong>åœ¨ Windows ä¸Šä½¿ç”¨ Docker Desktop å¯åŠ¨äº† Elasticsearch å’Œ Kibanaï¼ŒKibana èƒ½å¦é€šè¿‡ <code>http://localhost:9200</code> è¿æ¥ Elasticsearchï¼Ÿ</strong></p></blockquote><hr><h3 id="âœ…-ç®€çŸ­å›ç­”" tabindex="-1"><a class="header-anchor" href="#âœ…-ç®€çŸ­å›ç­”"><span>âœ… ç®€çŸ­å›ç­”ï¼š</span></a></h3><p><strong>å¯ä»¥ï¼åœ¨ç»å¤§å¤šæ•°æƒ…å†µä¸‹ï¼ŒKibana å®¹å™¨å†…ä½¿ç”¨ <code>http://localhost:9200</code> æ˜¯èƒ½æ­£å¸¸è¿æ¥åˆ° Elasticsearch çš„â€”â€”ä½†å‰ææ˜¯ï¼šæ‚¨ä½¿ç”¨çš„æ˜¯ <code>host</code> ç½‘ç»œæ¨¡å¼ï¼Œæˆ–è€…æ­£ç¡®é…ç½®äº†å®¹å™¨é—´é€šä¿¡ã€‚</strong></p><p>ä½†é»˜è®¤æƒ…å†µä¸‹ï¼Œ<strong>Docker å®¹å™¨çš„ <code>localhost</code> ä¸ç­‰äºå®¿ä¸»æœºçš„ <code>localhost</code></strong>ï¼Œæ‰€ä»¥éœ€è¦ç‰¹åˆ«æ³¨æ„ç½‘ç»œé…ç½®ã€‚</p><hr><h2 id="ğŸ§©-é—®é¢˜æœ¬è´¨-å®¹å™¨ç½‘ç»œéš”ç¦»" tabindex="-1"><a class="header-anchor" href="#ğŸ§©-é—®é¢˜æœ¬è´¨-å®¹å™¨ç½‘ç»œéš”ç¦»"><span>ğŸ§© é—®é¢˜æœ¬è´¨ï¼šå®¹å™¨ç½‘ç»œéš”ç¦»</span></a></h2><ul><li>æ‚¨åœ¨ Windows ä¸Šè¿è¡Œ Dockerã€‚</li><li>Elasticsearch å®¹å™¨ç›‘å¬ <code>0.0.0.0:9200</code>ï¼Œå¹¶é€šè¿‡ <code>-p 9200:9200</code> æ˜ å°„åˆ° Windows ä¸»æœºã€‚</li><li>Kibana å®¹å™¨è¿è¡Œåœ¨è‡ªå·±çš„ç½‘ç»œç¯å¢ƒä¸­ã€‚</li><li>Kibana å®¹å™¨å†…çš„ <code>localhost</code> æŒ‡çš„æ˜¯ <strong>å®ƒè‡ªå·±</strong>ï¼Œè€Œä¸æ˜¯å®¿ä¸»æœºæˆ– Elasticsearch å®¹å™¨ã€‚</li></ul><p>æ‰€ä»¥ï¼Œå¦‚æœ Kibana é…ç½®ä¸ºï¼š</p><div class="language-env line-numbers-mode" data-highlighter="prismjs" data-ext="env" data-title="env"><pre><code><span class="line">ELASTICSEARCH_HOSTS=http://localhost:9200</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>å®ƒä¼šå»è®¿é—® <strong>è‡ªå·±å®¹å™¨å†…éƒ¨çš„ 9200 ç«¯å£</strong>ï¼Œè€Œé‚£é‡Œæ²¡æœ‰ Elasticsearchï¼Œå¯¼è‡´è¿æ¥å¤±è´¥ã€‚</p><hr><h2 id="âœ…-æ­£ç¡®è§£å†³æ–¹æ¡ˆ" tabindex="-1"><a class="header-anchor" href="#âœ…-æ­£ç¡®è§£å†³æ–¹æ¡ˆ"><span>âœ… æ­£ç¡®è§£å†³æ–¹æ¡ˆ</span></a></h2><h3 id="âœ…-æ–¹æ¡ˆ-1-ä½¿ç”¨-docker-è‡ªå®šä¹‰ç½‘ç»œ-æ¨è-âœ…" tabindex="-1"><a class="header-anchor" href="#âœ…-æ–¹æ¡ˆ-1-ä½¿ç”¨-docker-è‡ªå®šä¹‰ç½‘ç»œ-æ¨è-âœ…"><span>âœ… æ–¹æ¡ˆ 1ï¼šä½¿ç”¨ Docker è‡ªå®šä¹‰ç½‘ç»œï¼ˆæ¨è âœ…ï¼‰</span></a></h3><p>è¿™æ˜¯æœ€æ ‡å‡†ã€æœ€å¯é çš„æ–¹å¼ã€‚</p><h4 id="_1-åˆ›å»ºè‡ªå®šä¹‰ç½‘ç»œ" tabindex="-1"><a class="header-anchor" href="#_1-åˆ›å»ºè‡ªå®šä¹‰ç½‘ç»œ"><span>1. åˆ›å»ºè‡ªå®šä¹‰ç½‘ç»œ</span></a></h4><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">docker</span> network create es-net</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h4 id="_2-å¯åŠ¨-elasticsearch-å¹¶åŠ å…¥ç½‘ç»œ" tabindex="-1"><a class="header-anchor" href="#_2-å¯åŠ¨-elasticsearch-å¹¶åŠ å…¥ç½‘ç»œ"><span>2. å¯åŠ¨ Elasticsearch å¹¶åŠ å…¥ç½‘ç»œ</span></a></h4><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">docker</span> run <span class="token parameter variable">-d</span> <span class="token punctuation">\\</span></span>
<span class="line">  <span class="token parameter variable">--name</span> elasticsearch <span class="token punctuation">\\</span></span>
<span class="line">  <span class="token parameter variable">--network</span> es-net <span class="token punctuation">\\</span></span>
<span class="line">  <span class="token parameter variable">-p</span> <span class="token number">9200</span>:9200 <span class="token punctuation">\\</span></span>
<span class="line">  <span class="token parameter variable">-p</span> <span class="token number">9300</span>:9300 <span class="token punctuation">\\</span></span>
<span class="line">  <span class="token parameter variable">-e</span> <span class="token string">&quot;discovery.type=single-node&quot;</span> <span class="token punctuation">\\</span></span>
<span class="line">  <span class="token parameter variable">-e</span> <span class="token string">&quot;xpack.security.enabled=false&quot;</span> <span class="token punctuation">\\</span></span>
<span class="line">  docker.elastic.co/elasticsearch/elasticsearch:7.17.18</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3-å¯åŠ¨-kibana-å¹¶åŠ å…¥åŒä¸€ç½‘ç»œ" tabindex="-1"><a class="header-anchor" href="#_3-å¯åŠ¨-kibana-å¹¶åŠ å…¥åŒä¸€ç½‘ç»œ"><span>3. å¯åŠ¨ Kibana å¹¶åŠ å…¥åŒä¸€ç½‘ç»œ</span></a></h4><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">docker</span> run <span class="token parameter variable">-d</span> <span class="token punctuation">\\</span></span>
<span class="line">  <span class="token parameter variable">--name</span> kibana <span class="token punctuation">\\</span></span>
<span class="line">  <span class="token parameter variable">--network</span> es-net <span class="token punctuation">\\</span></span>
<span class="line">  <span class="token parameter variable">-p</span> <span class="token number">5601</span>:5601 <span class="token punctuation">\\</span></span>
<span class="line">  <span class="token parameter variable">-e</span> <span class="token string">&quot;ELASTICSEARCH_HOSTS=http://elasticsearch:9200&quot;</span> <span class="token punctuation">\\</span></span>
<span class="line">  <span class="token parameter variable">-e</span> <span class="token string">&quot;XPACK_SECURITY_ENABLED=false&quot;</span> <span class="token punctuation">\\</span></span>
<span class="line">  docker.elastic.co/kibana/kibana:7.17.18</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>ğŸ”¥ å…³é”®ç‚¹ï¼š</p><ul><li><code>--network es-net</code>ï¼šä¸¤ä¸ªå®¹å™¨åœ¨åŒä¸€ä¸ªç½‘ç»œ</li><li><code>http://elasticsearch:9200</code>ï¼šä½¿ç”¨å®¹å™¨åç§°ä½œä¸ºä¸»æœºåï¼ŒDocker ä¼šè‡ªåŠ¨è§£æ</li></ul></blockquote><p>âœ… è¿™ç§æ–¹å¼åœ¨ Windowsã€Macã€Linux ä¸Šéƒ½é€‚ç”¨ã€‚</p><hr><h3 id="âœ…-æ–¹æ¡ˆ-2-ä½¿ç”¨-host-docker-internal-windows-mac-ä¸“ç”¨" tabindex="-1"><a class="header-anchor" href="#âœ…-æ–¹æ¡ˆ-2-ä½¿ç”¨-host-docker-internal-windows-mac-ä¸“ç”¨"><span>âœ… æ–¹æ¡ˆ 2ï¼šä½¿ç”¨ <code>host.docker.internal</code>ï¼ˆWindows/Mac ä¸“ç”¨ï¼‰</span></a></h3><p>Docker Desktop ä¸º Windows å’Œ Mac æä¾›äº†ä¸€ä¸ªç‰¹æ®Šä¸»æœºåï¼š</p><blockquote><p><code>host.docker.internal</code></p></blockquote><p>å®ƒæŒ‡å‘ <strong>å®¿ä¸»æœºï¼ˆWindowsï¼‰æœ¬èº«</strong>ã€‚</p><h4 id="å¯åŠ¨-kibana-æ—¶ä½¿ç”¨" tabindex="-1"><a class="header-anchor" href="#å¯åŠ¨-kibana-æ—¶ä½¿ç”¨"><span>å¯åŠ¨ Kibana æ—¶ä½¿ç”¨ï¼š</span></a></h4><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">docker</span> run <span class="token parameter variable">-d</span> <span class="token punctuation">\\</span></span>
<span class="line">  <span class="token parameter variable">--name</span> kibana <span class="token punctuation">\\</span></span>
<span class="line">  <span class="token parameter variable">-p</span> <span class="token number">5601</span>:5601 <span class="token punctuation">\\</span></span>
<span class="line">  <span class="token parameter variable">-e</span> <span class="token string">&quot;ELASTICSEARCH_HOSTS=http://host.docker.internal:9200&quot;</span> <span class="token punctuation">\\</span></span>
<span class="line">  <span class="token parameter variable">-e</span> <span class="token string">&quot;XPACK_SECURITY_ENABLED=false&quot;</span> <span class="token punctuation">\\</span></span>
<span class="line">  docker.elastic.co/kibana/kibana:7.17.18</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿™æ · Kibana å®¹å™¨å°±èƒ½é€šè¿‡ <code>host.docker.internal:9200</code> è®¿é—®å®¿ä¸»æœºä¸Šçš„ Elasticsearchã€‚</p><p>âœ… é€‚ç”¨äºï¼š</p><ul><li>Elasticsearch è¿è¡Œåœ¨ Windows æœ¬æœºï¼ˆéå®¹å™¨ï¼‰</li><li>æˆ– Elasticsearch å®¹å™¨å·²é€šè¿‡ <code>-p 9200:9200</code> æš´éœ²ç«¯å£</li></ul><hr><h3 id="âŒ-æ–¹æ¡ˆ-3-network-host-windows-ä¸æ”¯æŒ" tabindex="-1"><a class="header-anchor" href="#âŒ-æ–¹æ¡ˆ-3-network-host-windows-ä¸æ”¯æŒ"><span>âŒ æ–¹æ¡ˆ 3ï¼š<code>--network host</code>ï¼ˆWindows ä¸æ”¯æŒï¼‰</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token parameter variable">--network</span> <span class="token function">host</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>è¿™ç§æ–¹å¼å¯ä»¥è®©å®¹å™¨å…±äº«å®¿ä¸»æœºç½‘ç»œï¼Œ<code>localhost</code> ç›´æ¥ç”Ÿæ•ˆã€‚</p><p>âš ï¸ <strong>ä½†åœ¨ Windows ä¸Šçš„ Docker Desktop ä¸­ï¼Œ<code>--network host</code> ä¸æ”¯æŒï¼</strong></p><p>æ‰€ä»¥è¿™ä¸ªæ–¹æ¡ˆ <strong>ä¸å¯ç”¨</strong>ã€‚</p><hr><h2 id="âœ…-æ€»ç»“-windows-ä¸Šæ¨èåšæ³•" tabindex="-1"><a class="header-anchor" href="#âœ…-æ€»ç»“-windows-ä¸Šæ¨èåšæ³•"><span>âœ… æ€»ç»“ï¼šWindows ä¸Šæ¨èåšæ³•</span></a></h2><table><thead><tr><th>åœºæ™¯</th><th>æ¨èæ–¹æ¡ˆ</th></tr></thead><tbody><tr><td>âœ… <strong>Elasticsearch å’Œ Kibana éƒ½ç”¨ Docker</strong></td><td><strong>ä½¿ç”¨ <code>docker network</code> + å®¹å™¨åç§°ï¼ˆå¦‚ <code>http://elasticsearch:9200</code>ï¼‰</strong></td></tr><tr><td>âœ… <strong>Elasticsearch åœ¨ Windows æœ¬æœºè¿è¡Œï¼ˆé Dockerï¼‰</strong></td><td>ä½¿ç”¨ <code>http://host.docker.internal:9200</code></td></tr><tr><td>âœ… <strong>ä¸¤ä¸ªéƒ½ç”¨ Dockerï¼Œä½†ä¸æƒ³å»ºç½‘ç»œ</strong></td><td>ç¡®ä¿ ES æš´éœ²ç«¯å£ï¼ŒKibana ç”¨ <code>http://host.docker.internal:9200</code></td></tr></tbody></table><hr><h2 id="âœ…-éªŒè¯æ–¹æ³•" tabindex="-1"><a class="header-anchor" href="#âœ…-éªŒè¯æ–¹æ³•"><span>âœ… éªŒè¯æ–¹æ³•</span></a></h2><p>è¿›å…¥ Kibana å®¹å™¨æµ‹è¯•è¿æ¥ï¼š</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">docker</span> <span class="token builtin class-name">exec</span> <span class="token parameter variable">-it</span> kibana <span class="token function">bash</span></span>
<span class="line"><span class="token function">curl</span> http://elasticsearch:9200  <span class="token comment"># æˆ– host.docker.internal:9200</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>å¦‚æœè¿”å› Elasticsearch çš„ JSON ä¿¡æ¯ï¼Œè¯´æ˜è¿æ¥æˆåŠŸã€‚</p><hr><h2 id="âœ…-æœ€ç»ˆå»ºè®®" tabindex="-1"><a class="header-anchor" href="#âœ…-æœ€ç»ˆå»ºè®®"><span>âœ… æœ€ç»ˆå»ºè®®</span></a></h2><p>ä½¿ç”¨ <strong>è‡ªå®šä¹‰ç½‘ç»œ + å®¹å™¨åç§°</strong>ï¼Œè¿™æ˜¯æœ€æ ‡å‡†ã€è·¨å¹³å°ã€å¯æ‰©å±•çš„æ–¹å¼ã€‚</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token comment"># 1. åˆ›å»ºç½‘ç»œ</span></span>
<span class="line"><span class="token function">docker</span> network create es-net</span>
<span class="line"></span>
<span class="line"><span class="token comment"># 2. å¯åŠ¨ ES</span></span>
<span class="line"><span class="token function">docker</span> run <span class="token parameter variable">-d</span> <span class="token parameter variable">--name</span> es <span class="token parameter variable">--network</span> es-net <span class="token parameter variable">-p</span> <span class="token number">9200</span>:9200 <span class="token parameter variable">-e</span> <span class="token string">&quot;discovery.type=single-node&quot;</span> <span class="token parameter variable">-e</span> <span class="token string">&quot;xpack.security.enabled=false&quot;</span> elasticsearch:7.17.18</span>
<span class="line"></span>
<span class="line"><span class="token comment"># 3. å¯åŠ¨ Kibana</span></span>
<span class="line"><span class="token function">docker</span> run <span class="token parameter variable">-d</span> <span class="token parameter variable">--name</span> kibana <span class="token parameter variable">--network</span> es-net <span class="token parameter variable">-p</span> <span class="token number">5601</span>:5601 <span class="token parameter variable">-e</span> <span class="token string">&quot;ELASTICSEARCH_HOSTS=http://es:9200&quot;</span> <span class="token parameter variable">-e</span> <span class="token string">&quot;XPACK_SECURITY_ENABLED=false&quot;</span> kibana:7.17.18</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>âœ… å®Œç¾è¿è¡Œï¼Œæ— ç½‘ç»œé—®é¢˜ã€‚</p><hr>`,122)]))}const p=s(l,[["render",i],["__file","elk windowxiadockerbushu.html.vue"]]),o=JSON.parse('{"path":"/blogs/gongzuo/elk/elk windowxiadockerbushu.html","title":"elk windowä¸‹dockeréƒ¨ç½²","lang":"en-US","frontmatter":{"title":"elk windowä¸‹dockeréƒ¨ç½²","date":"2025/08/31","tags":["elk"],"categories":["elk"]},"headers":[{"level":3,"title":"Logstash çš„ä¸»è¦åŠŸèƒ½","slug":"logstash-çš„ä¸»è¦åŠŸèƒ½","link":"#logstash-çš„ä¸»è¦åŠŸèƒ½","children":[]},{"level":3,"title":"Logstash å·¥ä½œæµç¨‹","slug":"logstash-å·¥ä½œæµç¨‹","link":"#logstash-å·¥ä½œæµç¨‹","children":[]},{"level":3,"title":"ç¤ºä¾‹åœºæ™¯","slug":"ç¤ºä¾‹åœºæ™¯","link":"#ç¤ºä¾‹åœºæ™¯","children":[]},{"level":3,"title":"æ›¿ä»£æ–¹æ¡ˆ","slug":"æ›¿ä»£æ–¹æ¡ˆ","link":"#æ›¿ä»£æ–¹æ¡ˆ","children":[]},{"level":3,"title":"âœ… å¯¹åº”å…³ç³»ï¼šSpring Data Elasticsearch 5.0.x â†’ Elasticsearch 7.17.x","slug":"âœ…-å¯¹åº”å…³ç³»-spring-data-elasticsearch-5-0-x-â†’-elasticsearch-7-17-x","link":"#âœ…-å¯¹åº”å…³ç³»-spring-data-elasticsearch-5-0-x-â†’-elasticsearch-7-17-x","children":[]},{"level":3,"title":"ğŸ³ Docker é•œåƒæ¨è","slug":"ğŸ³-docker-é•œåƒæ¨è","link":"#ğŸ³-docker-é•œåƒæ¨è","children":[]},{"level":3,"title":"ğŸ”— ç‰ˆæœ¬å¯¹åº”è¡¨ï¼ˆSpring Data Elasticsearch â†’ Elasticsearchï¼‰","slug":"ğŸ”—-ç‰ˆæœ¬å¯¹åº”è¡¨-spring-data-elasticsearch-â†’-elasticsearch","link":"#ğŸ”—-ç‰ˆæœ¬å¯¹åº”è¡¨-spring-data-elasticsearch-â†’-elasticsearch","children":[]},{"level":3,"title":"âœ… æ€»ç»“","slug":"âœ…-æ€»ç»“","link":"#âœ…-æ€»ç»“","children":[]},{"level":3,"title":"ğŸ›‘ ä¸è¦ä½¿ç”¨ Elasticsearch 8.x çš„ Docker é•œåƒ","slug":"ğŸ›‘-ä¸è¦ä½¿ç”¨-elasticsearch-8-x-çš„-docker-é•œåƒ","link":"#ğŸ›‘-ä¸è¦ä½¿ç”¨-elasticsearch-8-x-çš„-docker-é•œåƒ","children":[]},{"level":2,"title":"âœ… 1. ä»€ä¹ˆæ˜¯ Kibanaï¼Ÿ","slug":"âœ…-1-ä»€ä¹ˆæ˜¯-kibana","link":"#âœ…-1-ä»€ä¹ˆæ˜¯-kibana","children":[]},{"level":2,"title":"âœ… 2. å®‰è£… Kibanaï¼ˆDocker æ–¹å¼ï¼Œæ¨èï¼‰","slug":"âœ…-2-å®‰è£…-kibana-docker-æ–¹å¼-æ¨è","link":"#âœ…-2-å®‰è£…-kibana-docker-æ–¹å¼-æ¨è","children":[{"level":3,"title":"ğŸ³ å¯åŠ¨ Kibana å®¹å™¨","slug":"ğŸ³-å¯åŠ¨-kibana-å®¹å™¨","link":"#ğŸ³-å¯åŠ¨-kibana-å®¹å™¨","children":[]}]},{"level":2,"title":"âœ… 3. è®¿é—® Kibana","slug":"âœ…-3-è®¿é—®-kibana","link":"#âœ…-3-è®¿é—®-kibana","children":[]},{"level":2,"title":"âœ… 4. å¸¸ç”¨åŠŸèƒ½å…¥å£","slug":"âœ…-4-å¸¸ç”¨åŠŸèƒ½å…¥å£","link":"#âœ…-4-å¸¸ç”¨åŠŸèƒ½å…¥å£","children":[]},{"level":2,"title":"âœ… 5. ç¤ºä¾‹ï¼šåœ¨ Dev Tools ä¸­æµ‹è¯• IDs æŸ¥è¯¢","slug":"âœ…-5-ç¤ºä¾‹-åœ¨-dev-tools-ä¸­æµ‹è¯•-ids-æŸ¥è¯¢","link":"#âœ…-5-ç¤ºä¾‹-åœ¨-dev-tools-ä¸­æµ‹è¯•-ids-æŸ¥è¯¢","children":[]},{"level":2,"title":"âœ… 6. ä¸ Spring Data Elasticsearch é…åˆä½¿ç”¨","slug":"âœ…-6-ä¸-spring-data-elasticsearch-é…åˆä½¿ç”¨","link":"#âœ…-6-ä¸-spring-data-elasticsearch-é…åˆä½¿ç”¨","children":[]},{"level":2,"title":"âœ… 7. æ³¨æ„äº‹é¡¹","slug":"âœ…-7-æ³¨æ„äº‹é¡¹","link":"#âœ…-7-æ³¨æ„äº‹é¡¹","children":[]},{"level":2,"title":"âœ… 8. åœæ­¢/åˆ é™¤å®¹å™¨","slug":"âœ…-8-åœæ­¢-åˆ é™¤å®¹å™¨","link":"#âœ…-8-åœæ­¢-åˆ é™¤å®¹å™¨","children":[{"level":3,"title":"âœ… ç®€çŸ­å›ç­”ï¼š","slug":"âœ…-ç®€çŸ­å›ç­”","link":"#âœ…-ç®€çŸ­å›ç­”","children":[]}]},{"level":2,"title":"ğŸ§© é—®é¢˜æœ¬è´¨ï¼šå®¹å™¨ç½‘ç»œéš”ç¦»","slug":"ğŸ§©-é—®é¢˜æœ¬è´¨-å®¹å™¨ç½‘ç»œéš”ç¦»","link":"#ğŸ§©-é—®é¢˜æœ¬è´¨-å®¹å™¨ç½‘ç»œéš”ç¦»","children":[]},{"level":2,"title":"âœ… æ­£ç¡®è§£å†³æ–¹æ¡ˆ","slug":"âœ…-æ­£ç¡®è§£å†³æ–¹æ¡ˆ","link":"#âœ…-æ­£ç¡®è§£å†³æ–¹æ¡ˆ","children":[{"level":3,"title":"âœ… æ–¹æ¡ˆ 1ï¼šä½¿ç”¨ Docker è‡ªå®šä¹‰ç½‘ç»œï¼ˆæ¨è âœ…ï¼‰","slug":"âœ…-æ–¹æ¡ˆ-1-ä½¿ç”¨-docker-è‡ªå®šä¹‰ç½‘ç»œ-æ¨è-âœ…","link":"#âœ…-æ–¹æ¡ˆ-1-ä½¿ç”¨-docker-è‡ªå®šä¹‰ç½‘ç»œ-æ¨è-âœ…","children":[]},{"level":3,"title":"âœ… æ–¹æ¡ˆ 2ï¼šä½¿ç”¨ host.docker.internalï¼ˆWindows/Mac ä¸“ç”¨ï¼‰","slug":"âœ…-æ–¹æ¡ˆ-2-ä½¿ç”¨-host-docker-internal-windows-mac-ä¸“ç”¨","link":"#âœ…-æ–¹æ¡ˆ-2-ä½¿ç”¨-host-docker-internal-windows-mac-ä¸“ç”¨","children":[]},{"level":3,"title":"âŒ æ–¹æ¡ˆ 3ï¼š--network hostï¼ˆWindows ä¸æ”¯æŒï¼‰","slug":"âŒ-æ–¹æ¡ˆ-3-network-host-windows-ä¸æ”¯æŒ","link":"#âŒ-æ–¹æ¡ˆ-3-network-host-windows-ä¸æ”¯æŒ","children":[]}]},{"level":2,"title":"âœ… æ€»ç»“ï¼šWindows ä¸Šæ¨èåšæ³•","slug":"âœ…-æ€»ç»“-windows-ä¸Šæ¨èåšæ³•","link":"#âœ…-æ€»ç»“-windows-ä¸Šæ¨èåšæ³•","children":[]},{"level":2,"title":"âœ… éªŒè¯æ–¹æ³•","slug":"âœ…-éªŒè¯æ–¹æ³•","link":"#âœ…-éªŒè¯æ–¹æ³•","children":[]},{"level":2,"title":"âœ… æœ€ç»ˆå»ºè®®","slug":"âœ…-æœ€ç»ˆå»ºè®®","link":"#âœ…-æœ€ç»ˆå»ºè®®","children":[]}],"git":{"createdTime":1755076413000,"updatedTime":1755076675000,"contributors":[{"name":"huangcheng","email":"2387020215@qq.com","commits":2}]},"filePathRelative":"blogs/å·¥ä½œ/elk/elk windowä¸‹dockeréƒ¨ç½².md"}');export{p as comp,o as data};
