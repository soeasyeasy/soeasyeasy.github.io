<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-rc.19">
    <meta name="soeasyeasy" content="soeasyeasy">
    <script>
      (function() {
        const userMode = localStorage.getItem('vuepress-reco-color-scheme') || 'auto';
        const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;

        if (userMode === 'dark' || (userMode === 'auto' && systemDarkMode)) {
          document.documentElement.classList.toggle('dark', true);
        }
      })();
    </script>
    <title>elk window下docker部署 | soeasyeasy</title><meta name="description" content="soeasyeasy">
    <link rel="preload" href="/assets/style-Di8bWRpf.css" as="style"><link rel="stylesheet" href="/assets/style-Di8bWRpf.css">
    <link rel="modulepreload" href="/assets/app-qwDAWgIM.js"><link rel="modulepreload" href="/assets/elk windowxiadockerbushu.html-CKc9xu7D.js">
    <link rel="prefetch" href="/assets/timeline.html-Dro7j5bv.js" as="script"><link rel="prefetch" href="/assets/posts.html-DvmR7frM.js" as="script"><link rel="prefetch" href="/assets/friendship-link.html-D4Pt1YQq.js" as="script"><link rel="prefetch" href="/assets/1.html-CGzXOjE1.js" as="script"><link rel="prefetch" href="/assets/1.html-N5YljUIX.js" as="script"><link rel="prefetch" href="/assets/1.html-DKPxzc9g.js" as="script"><link rel="prefetch" href="/assets/1.html-Bz8sUlw_.js" as="script"><link rel="prefetch" href="/assets/1.html-DMliaesQ.js" as="script"><link rel="prefetch" href="/assets/1.html-BCQnVSq5.js" as="script"><link rel="prefetch" href="/assets/1.html-COdZVESY.js" as="script"><link rel="prefetch" href="/assets/1.html-Cpu2a_zs.js" as="script"><link rel="prefetch" href="/assets/1.html-CdnIGpyu.js" as="script"><link rel="prefetch" href="/assets/1.html-CLXsGdTg.js" as="script"><link rel="prefetch" href="/assets/1.html-DE28OSL-.js" as="script"><link rel="prefetch" href="/assets/1.html-3Q_wYZtq.js" as="script"><link rel="prefetch" href="/assets/1.html-C1tnGPGj.js" as="script"><link rel="prefetch" href="/assets/1.html-DCl1qS0f.js" as="script"><link rel="prefetch" href="/assets/1.html-BFKG34Di.js" as="script"><link rel="prefetch" href="/assets/1.html-DMwyF1fL.js" as="script"><link rel="prefetch" href="/assets/2.html-iIM_Ha0S.js" as="script"><link rel="prefetch" href="/assets/index.html-CVBuuV1O.js" as="script"><link rel="prefetch" href="/assets/home.html-1hHjovbg.js" as="script"><link rel="prefetch" href="/assets/docker linuxxiaanzhuangbushu.html-D0Ks-108.js" as="script"><link rel="prefetch" href="/assets/dockerchangyongmingling.html-DzsTfDR3.js" as="script"><link rel="prefetch" href="/assets/efkjiaoben.html-CuKR2_9E.js" as="script"><link rel="prefetch" href="/assets/wanzhengelkjiaoben.html-hXylMfwQ.js" as="script"><link rel="prefetch" href="/assets/githuigun.html-CiPrD1Me.js" as="script"><link rel="prefetch" href="/assets/linuxxiarizhichaxun.html-DbAG9zuj.js" as="script"><link rel="prefetch" href="/assets/mavenjiandanshiyongjiaocheng.html-B61nCOeX.js" as="script"><link rel="prefetch" href="/assets/xxl-job saashua aijianyi.html-Jz8Waz6Y.js" as="script"><link rel="prefetch" href="/assets/xxl-job saashua.html-BiTx1YYn.js" as="script"><link rel="prefetch" href="/assets/xxl-jobdaimaluoji.html-CFMkCkN1.js" as="script"><link rel="prefetch" href="/assets/404.html-Dy4bFrgv.js" as="script"><link rel="prefetch" href="/assets/Valine.min-_LyT3bfY.js" as="script"><link rel="prefetch" href="/assets/giscus-aTimukGI-DWEKOTfS.js" as="script"><link rel="prefetch" href="/assets/setupDevtools-7MC2TMWH-BIz3s223.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container series--no show-catalog"><header class="navbar-container not-open"><div class="navbar-inner"><div class="site-brand nav-item"><img class="logo" src="/see.gif" alt="soeasyeasy"><a href="/" class="site-name can-hide">soeasyeasy</a></div><div class="nav-item navbar-links-wrapper" style=""><div><form class="search-box" role="search"><input type="search" autocomplete="off" spellcheck="false" value><!----></form></div><nav class="navbar-links"><!--[--><div class="navbar-links__item"><a href="/" class="link" aria-label="首页"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->首页<!--]--></span></span><!--[--><!--]--></a></div><div class="navbar-links__item"><a href="/posts/1.html" class="link" aria-label="博客"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->博客<!--]--></span></span><!--[--><!--]--></a></div><div class="navbar-links__item"><a href="/categories/linux/1.html" class="link" aria-label="分类"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->分类<!--]--></span></span><!--[--><!--]--></a></div><div class="navbar-links__item"><a href="/tags/rizhi/1.html" class="link" aria-label="标签"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->标签<!--]--></span></span><!--[--><!--]--></a></div><div class="navbar-links__item"><a href="/timeline.html" class="link" aria-label="时间轴"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->时间轴<!--]--></span></span><!--[--><!--]--></a></div><div class="navbar-links__item"><a href="/friendship-link.html" class="link" aria-label="常用网站"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->常用网站<!--]--></span></span><!--[--><!--]--></a></div><!--]--><!----><span class="xicon-container btn-toggle-dark-mode btn--dark-mode navbar-links__item"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 32 32" style="width:20px;height:20px;font-size:20px;color:;"><path d="M15 2h2v3h-2z" fill="currentColor"></path><path d="M27 15h3v2h-3z" fill="currentColor"></path><path d="M15 27h2v3h-2z" fill="currentColor"></path><path d="M2 15h3v2H2z" fill="currentColor"></path><path d="M5.45 6.884l1.414-1.415l2.121 2.122l-1.414 1.414z" fill="currentColor"></path><path d="M23 7.58l2.121-2.12l1.414 1.414l-2.121 2.121z" fill="currentColor"></path><path d="M23.002 24.416l1.415-1.414l2.12 2.122l-1.413 1.414z" fill="currentColor"></path><path d="M5.47 25.13L7.59 23L9 24.42l-2.12 2.12l-1.41-1.41z" fill="currentColor"></path><path d="M16 8a8 8 0 1 0 8 8a8 8 0 0 0-8-8zm0 14a6 6 0 0 1 0-12z" fill="currentColor"></path></svg></span><ul class="social-links navbar-links__item"><!--[--><li class="social-item"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 32 32" style="width:25px;height:25px;"><path d="M16 2a14 14 0 0 0-4.43 27.28c.7.13 1-.3 1-.67v-2.38c-3.89.84-4.71-1.88-4.71-1.88a3.71 3.71 0 0 0-1.62-2.05c-1.27-.86.1-.85.1-.85a2.94 2.94 0 0 1 2.14 1.45a3 3 0 0 0 4.08 1.16a2.93 2.93 0 0 1 .88-1.87c-3.1-.36-6.37-1.56-6.37-6.92a5.4 5.4 0 0 1 1.44-3.76a5 5 0 0 1 .14-3.7s1.17-.38 3.85 1.43a13.3 13.3 0 0 1 7 0c2.67-1.81 3.84-1.43 3.84-1.43a5 5 0 0 1 .14 3.7a5.4 5.4 0 0 1 1.44 3.76c0 5.38-3.27 6.56-6.39 6.91a3.33 3.33 0 0 1 .95 2.59v3.84c0 .46.25.81 1 .67A14 14 0 0 0 16 2z" fill-rule="evenodd" fill="currentColor"></path></svg></li><!--]--></ul></nav><span class="xicon-container btn-toggle-menus"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 32 32" style="width:20px;height:20px;font-size:20px;color:;"><circle cx="16" cy="8" r="2" fill="currentColor"></circle><circle cx="16" cy="16" r="2" fill="currentColor"></circle><circle cx="16" cy="24" r="2" fill="currentColor"></circle></svg></span></div></div></header><!----><!----><!----><div class="theme-main" style=""><!----><!--[--><main class="page-container"><div class="page-content"><h1 class="page-title">elk window下docker部署</h1><div class="page-info"><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:;"><path d="M16 4a5 5 0 1 1-5 5a5 5 0 0 1 5-5m0-2a7 7 0 1 0 7 7a7 7 0 0 0-7-7z" fill="currentColor"></path><path d="M26 30h-2v-5a5 5 0 0 0-5-5h-6a5 5 0 0 0-5 5v5H6v-5a7 7 0 0 1 7-7h6a7 7 0 0 1 7 7z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->Exceptions<!--]--></span></span><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:;"><path d="M26 4h-4V2h-2v2h-8V2h-2v2H6c-1.1 0-2 .9-2 2v20c0 1.1.9 2 2 2h20c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 22H6V12h20v14zm0-16H6V6h4v2h2V6h8v2h2V6h4v4z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->2025/08/31<!--]--></span></span><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:;"><path d="M11.17 6l3.42 3.41l.58.59H28v16H4V6h7.17m0-2H4a2 2 0 0 0-2 2v20a2 2 0 0 0 2 2h24a2 2 0 0 0 2-2V10a2 2 0 0 0-2-2H16l-3.41-3.41A2 2 0 0 0 11.17 4z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[--><!--[--><a href="/categories/elk/1.html" class="">elk</a><!--]--><!--]--></span></span><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:;"><path d="M10 14a4 4 0 1 1 4-4a4.005 4.005 0 0 1-4 4zm0-6a2 2 0 1 0 1.998 2.004A2.002 2.002 0 0 0 10 8z" fill="currentColor"></path><path d="M16.644 29.415L2.586 15.354A2 2 0 0 1 2 13.941V4a2 2 0 0 1 2-2h9.941a2 2 0 0 1 1.414.586l14.06 14.058a2 2 0 0 1 0 2.828l-9.943 9.943a2 2 0 0 1-2.829 0zM4 4v9.942L18.058 28L28 18.058L13.942 4z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[--><!--[--><a href="/tags/elk/1.html" class="">elk</a><!--]--><!--]--></span></span><span class="xicon-container left"><!--[--><svg class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:;font-size:18px;" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 12 12"><g fill="none"><path d="M1.974 6.659a.5.5 0 0 1-.948-.317c-.01.03 0-.001 0-.001a1.633 1.633 0 0 1 .062-.162c.04-.095.099-.226.18-.381c.165-.31.422-.723.801-1.136C2.834 3.827 4.087 3 6 3c1.913 0 3.166.827 3.931 1.662a5.479 5.479 0 0 1 .98 1.517l.046.113c.003.008.013.06.023.11L11 6.5s.084.333-.342.474a.5.5 0 0 1-.632-.314v-.003l-.006-.016a3.678 3.678 0 0 0-.172-.376a4.477 4.477 0 0 0-.654-.927C8.584 4.673 7.587 4 6 4s-2.584.673-3.194 1.338a4.477 4.477 0 0 0-.795 1.225a2.209 2.209 0 0 0-.03.078l-.007.018zM6 5a2 2 0 1 0 0 4a2 2 0 0 0 0-4zM5 7a1 1 0 1 1 2 0a1 1 0 0 1-2 0z" fill="currentColor"></path></g></svg><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[--><span id="/blogs/gongzuo/elk/elk windowxiadockerbushu.html" class="leancloud-visitors" data-flag-title="Your Article Title"><a class="leancloud-visitors-count" style=""></a></span><!----><!--]--></span></span></div><div class="theme-reco-md-content"><div><p>在 ELK 这个术语中，&quot;L&quot; 代表 <strong>Logstash</strong>。ELK 是一个流行的开源日志管理平台的缩写，它由三个主要组件组成：</p><ol><li><strong>Elasticsearch</strong>：用于存储、搜索和分析日志数据及其他数据的分布式搜索引擎。</li><li><strong>Logstash</strong>：&quot;L&quot; 所指的部分，是一个服务器端的数据处理管道，能够同时从多个来源采集数据，进行转换，然后将数据发送到你选择的“存储库”中，如 Elasticsearch。</li><li><strong>Kibana</strong>：提供了一个可视化的界面，用于浏览、搜索、分析和展示存储在 Elasticsearch 中的数据。</li></ol><h3 id="logstash-的主要功能" tabindex="-1"><a class="header-anchor" href="#logstash-的主要功能"><span>Logstash 的主要功能</span></a></h3><ul><li><strong>数据收集</strong>：可以从各种数据源（如日志文件、系统指标、网络流等）采集数据。</li><li><strong>数据处理</strong>：通过丰富的过滤器插件对输入的数据进行解析、格式化、修改或增强。例如，可以使用 Grok 解析非结构化日志数据并使其结构化。</li><li><strong>数据输出</strong>：可以将处理后的数据发送到不同的目的地，最常见的是 Elasticsearch，但也可以配置为其他输出目标，如文件、电子邮件、数据库等。</li></ul><h3 id="logstash-工作流程" tabindex="-1"><a class="header-anchor" href="#logstash-工作流程"><span>Logstash 工作流程</span></a></h3><ol><li><strong>Inputs（输入）</strong>：定义如何从不同源头采集数据。支持多种输入插件，包括文件、syslog、beats 等。</li><li><strong>Filters（过滤器）</strong>：用于处理和解析输入的数据。例如，你可以使用过滤器来解析日志行，添加地理信息，移除敏感数据等。</li><li><strong>Outputs（输出）</strong>：指定处理完的数据应该发送到哪里。最常见的输出是 Elasticsearch，但也可以是其他形式，比如发送警报到电子邮件或保存到文件系统中。</li></ol><h3 id="示例场景" tabindex="-1"><a class="header-anchor" href="#示例场景"><span>示例场景</span></a></h3><p>假设你有一个 Web 应用程序，它生成大量的访问日志。你可以配置 Logstash 来读取这些日志文件（Input），使用 Grok 过滤器解析每一行日志以提取有用的信息（Filter），然后将解析后的数据发送到 Elasticsearch（Output）。之后，使用 Kibana 可以创建仪表板来可视化这些日志数据，帮助你更好地理解应用的行为和性能。</p><h3 id="替代方案" tabindex="-1"><a class="header-anchor" href="#替代方案"><span>替代方案</span></a></h3><p>值得注意的是，在一些场景下，用户可能会选择不使用 Logstash，而是使用更轻量级的解决方案，如 <strong>Filebeat</strong> 或者 <strong>Metricbeat</strong>，它们属于 Elastic 的 Beats 系列。Beats 能够直接向 Elasticsearch 发送数据，并且与 Logstash 结合使用时也能减少资源消耗。这种情况下，架构可能被称为 <strong>EFK</strong>（Elasticsearch, Filebeat/Kibana）。不过，当需要复杂的数据处理逻辑时，Logstash 仍然是不可或缺的选择。</p><p><code>spring-data-elasticsearch:5.0.7</code> 是 Spring Data Elasticsearch 的一个版本，它基于 <strong>Elasticsearch 7.17.x</strong> 客户端。</p><hr><h3 id="✅-对应关系-spring-data-elasticsearch-5-0-x-→-elasticsearch-7-17-x" tabindex="-1"><a class="header-anchor" href="#✅-对应关系-spring-data-elasticsearch-5-0-x-→-elasticsearch-7-17-x"><span>✅ 对应关系：Spring Data Elasticsearch 5.0.x → Elasticsearch 7.17.x</span></a></h3><table><thead><tr><th>组件</th><th>版本</th></tr></thead><tbody><tr><td><strong>Spring Data Elasticsearch</strong></td><td><code>5.0.7</code></td></tr><tr><td><strong>底层 Elasticsearch Java Client</strong></td><td><strong>7.17.x</strong>（Transport Client / RestHighLevelClient）</td></tr><tr><td><strong>兼容的 Elasticsearch 服务端版本</strong></td><td><strong>7.17.x</strong></td></tr></tbody></table><blockquote><p>⚠️ 注意：Spring Data Elasticsearch 5.x <strong>不使用</strong>新的 <code>co.elastic.clients:elasticsearch-java</code>（即 8.x 的 Java API Client），而是基于旧的 <strong><code>org.elasticsearch.client:rest-high-level-client</code></strong>（7.17.x）。</p></blockquote><hr><h3 id="🐳-docker-镜像推荐" tabindex="-1"><a class="header-anchor" href="#🐳-docker-镜像推荐"><span>🐳 Docker 镜像推荐</span></a></h3><p>因此，您应该使用 <strong>Elasticsearch 7.17.x</strong> 的 Docker 镜像，例如：</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">docker</span> run <span class="token parameter variable">-d</span> <span class="token punctuation">\</span></span>
<span class="line">  <span class="token parameter variable">--name</span> elasticsearch <span class="token punctuation">\</span></span>
<span class="line">  <span class="token parameter variable">-p</span> <span class="token number">9200</span>:9200 <span class="token punctuation">\</span></span>
<span class="line">  <span class="token parameter variable">-p</span> <span class="token number">9300</span>:9300 <span class="token punctuation">\</span></span>
<span class="line">  <span class="token parameter variable">-e</span> <span class="token string">&quot;discovery.type=single-node&quot;</span> <span class="token punctuation">\</span></span>
<span class="line">  <span class="token parameter variable">-e</span> <span class="token string">&quot;xpack.security.enabled=false&quot;</span> <span class="token punctuation">\</span></span>
<span class="line">  docker.elastic.co/elasticsearch/elasticsearch:7.17.18</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>✅ 推荐版本：<code>7.17.18</code>（7.x 最终版本，稳定、安全补丁更新）</p><hr><h3 id="🔗-版本对应表-spring-data-elasticsearch-→-elasticsearch" tabindex="-1"><a class="header-anchor" href="#🔗-版本对应表-spring-data-elasticsearch-→-elasticsearch"><span>🔗 版本对应表（Spring Data Elasticsearch → Elasticsearch）</span></a></h3><table><thead><tr><th>Spring Data Elasticsearch</th><th>Spring Boot</th><th>Elasticsearch 服务端</th><th>客户端类型</th></tr></thead><tbody><tr><td>5.0.x (如 5.0.7)</td><td>3.0.x</td><td>7.17.x</td><td><code>RestHighLevelClient</code></td></tr><tr><td>5.1.x</td><td>3.1.x</td><td>7.17.x / 8.7+（有限支持）</td><td>混合</td></tr><tr><td>6.0+</td><td>3.2+</td><td>8.9+</td><td><code>java-api-client</code> (<code>co.elastic.clients</code>)</td></tr></tbody></table><blockquote><p>📌 <code>spring-data-elasticsearch:5.0.7</code> 发布于 2023 年初，是 Spring Data 2022.0.x 版本的一部分，对应 Spring Boot 3.0.x。</p></blockquote><hr><h3 id="✅-总结" tabindex="-1"><a class="header-anchor" href="#✅-总结"><span>✅ 总结</span></a></h3><ul><li>✅ <strong>Docker 镜像版本</strong>：<code>elasticsearch:7.17.18</code></li><li>✅ <strong>Maven 依赖</strong>：<div class="language-xml line-numbers-mode" data-highlighter="prismjs" data-ext="xml" data-title="xml"><pre><code><span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.data<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-data-elasticsearch<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span></span>
<span class="line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>5.0.7<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li>✅ <strong>客户端类型</strong>：<code>RestHighLevelClient</code>（已弃用，但在 7.17 中仍可用）</li><li>✅ <strong>连接方式</strong>：HTTP + Transport（9300 端口在 7.x 中仍可用，但推荐用 REST）</li></ul><hr><h3 id="🛑-不要使用-elasticsearch-8-x-的-docker-镜像" tabindex="-1"><a class="header-anchor" href="#🛑-不要使用-elasticsearch-8-x-的-docker-镜像"><span>🛑 不要使用 Elasticsearch 8.x 的 Docker 镜像</span></a></h3><p>如 <code>8.0</code>, <code>8.1</code>, <code>8.13</code> 等，虽然 <strong>7.17 客户端可以连接 8.x 服务端</strong>（向后兼容），但：</p><ul><li>8.x 默认启用安全（用户名/密码）</li><li>某些 API 行为变化（如默认分页大小）</li><li>可能触发弃用警告或兼容性问题</li></ul><p>所以，<strong>最稳妥的是使用 <code>7.17.18</code></strong>。</p><hr><p>✅ <strong>最终推荐 Docker 命令</strong>：</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">docker</span> run <span class="token parameter variable">-d</span> <span class="token punctuation">\</span></span>
<span class="line">  <span class="token parameter variable">--name</span> es717 <span class="token punctuation">\</span></span>
<span class="line">  <span class="token parameter variable">-p</span> <span class="token number">9200</span>:9200 <span class="token punctuation">\</span></span>
<span class="line">  <span class="token parameter variable">-p</span> <span class="token number">9300</span>:9300 <span class="token punctuation">\</span></span>
<span class="line">  <span class="token parameter variable">-e</span> <span class="token string">&quot;discovery.type=single-node&quot;</span> <span class="token punctuation">\</span></span>
<span class="line">  <span class="token parameter variable">-e</span> <span class="token string">&quot;xpack.security.enabled=false&quot;</span> <span class="token punctuation">\</span></span>
<span class="line">  docker.elastic.co/elasticsearch/elasticsearch:7.17.18</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h2 id="✅-1-什么是-kibana" tabindex="-1"><a class="header-anchor" href="#✅-1-什么是-kibana"><span>✅ 1. 什么是 Kibana？</span></a></h2><p>Kibana 是 Elasticsearch 的可视化界面，用于：</p><ul><li>查询数据（Dev Tools）</li><li>创建仪表盘（Dashboard）</li><li>监控集群状态</li><li>管理索引（Index Patterns, Index Management）</li></ul><hr><h2 id="✅-2-安装-kibana-docker-方式-推荐" tabindex="-1"><a class="header-anchor" href="#✅-2-安装-kibana-docker-方式-推荐"><span>✅ 2. 安装 Kibana（Docker 方式，推荐）</span></a></h2><p>您已经运行了 Elasticsearch 7.17.18，现在添加 Kibana：</p><h3 id="🐳-启动-kibana-容器" tabindex="-1"><a class="header-anchor" href="#🐳-启动-kibana-容器"><span>🐳 启动 Kibana 容器</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">docker</span> run <span class="token parameter variable">-d</span> <span class="token punctuation">\</span></span>
<span class="line">  <span class="token parameter variable">--name</span> kibana <span class="token punctuation">\</span></span>
<span class="line">  <span class="token parameter variable">-p</span> <span class="token number">5601</span>:5601 <span class="token punctuation">\</span></span>
<span class="line">  <span class="token parameter variable">--network</span> <span class="token function">host</span> <span class="token punctuation">\</span>  <span class="token comment"># 或使用 --link 与 es 容器通信</span></span>
<span class="line">  <span class="token parameter variable">-e</span> <span class="token string">&quot;ELASTICSEARCH_HOSTS=http://localhost:9200&quot;</span> <span class="token punctuation">\</span></span>
<span class="line">  <span class="token parameter variable">-e</span> <span class="token string">&quot;XPACK_SECURITY_ENABLED=false&quot;</span> <span class="token punctuation">\</span></span>
<span class="line">  docker.elastic.co/kibana/kibana:7.17.18</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>⚠️ 如果 Elasticsearch 不在 <code>localhost</code>，请将 <code>ELASTICSEARCH_HOSTS</code> 改为实际地址，如：</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token parameter variable">-e</span> <span class="token string">&quot;ELASTICSEARCH_HOSTS=http://192.168.1.100:9200&quot;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></blockquote><hr><h2 id="✅-3-访问-kibana" tabindex="-1"><a class="header-anchor" href="#✅-3-访问-kibana"><span>✅ 3. 访问 Kibana</span></a></h2><p>打开浏览器访问：</p><div class="language-text line-numbers-mode" data-highlighter="prismjs" data-ext="text" data-title="text"><pre><code><span class="line">http://localhost:5601</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>您将看到 Kibana 首页。</p><blockquote><p>📌 由于您禁用了安全功能（<code>xpack.security.enabled=false</code>），无需登录即可使用。</p></blockquote><hr><h2 id="✅-4-常用功能入口" tabindex="-1"><a class="header-anchor" href="#✅-4-常用功能入口"><span>✅ 4. 常用功能入口</span></a></h2><table><thead><tr><th>功能</th><th>路径</th><th></th></tr></thead><tbody><tr><td><strong>Dev Tools（控制台）</strong></td><td><code>http://localhost:5601/app/dev_tools</code></td><td>用于执行 REST API 查询</td></tr><tr><td><strong>Discover</strong></td><td>主页</td><td>查看文档、创建 Index Pattern</td></tr><tr><td><strong>Stack Management</strong></td><td>左侧菜单</td><td>管理索引、标签、脚本等</td></tr></tbody></table><hr><h2 id="✅-5-示例-在-dev-tools-中测试-ids-查询" tabindex="-1"><a class="header-anchor" href="#✅-5-示例-在-dev-tools-中测试-ids-查询"><span>✅ 5. 示例：在 Dev Tools 中测试 IDs 查询</span></a></h2><p>进入 <strong>Dev Tools</strong>，输入：</p><div class="language-json line-numbers-mode" data-highlighter="prismjs" data-ext="json" data-title="json"><pre><code><span class="line">GET /your_index_name/_search</span>
<span class="line"><span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">&quot;query&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token property">&quot;ids&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">      <span class="token property">&quot;values&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;2&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;3&quot;</span><span class="token punctuation">]</span></span>
<span class="line">    <span class="token punctuation">}</span></span>
<span class="line">  <span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>替换 <code>your_index_name</code> 为您的实际索引名。</p><hr><h2 id="✅-6-与-spring-data-elasticsearch-配合使用" tabindex="-1"><a class="header-anchor" href="#✅-6-与-spring-data-elasticsearch-配合使用"><span>✅ 6. 与 Spring Data Elasticsearch 配合使用</span></a></h2><ul><li>Kibana 用于 <strong>调试、查看数据、验证映射（mapping）</strong></li><li>Spring 应用负责业务逻辑</li><li>两者连接同一个 Elasticsearch 实例</li></ul><hr><h2 id="✅-7-注意事项" tabindex="-1"><a class="header-anchor" href="#✅-7-注意事项"><span>✅ 7. 注意事项</span></a></h2><table><thead><tr><th>项目</th><th>说明</th></tr></thead><tbody><tr><td><strong>版本匹配</strong></td><td>Kibana 版本必须与 Elasticsearch <strong>主版本一致</strong>（都是 7.17.x）</td></tr><tr><td><strong>内存</strong></td><td>Kibana 至少需要 1GB 内存，建议 Docker 分配 2GB</td></tr><tr><td><strong>网络</strong></td><td>确保 Kibana 能访问 Elasticsearch 的 <code>9200</code> 端口</td></tr><tr><td><strong>生产环境</strong></td><td>建议启用 <code>xpack.security.enabled=true</code> 并设置密码</td></tr></tbody></table><hr><h2 id="✅-8-停止-删除容器" tabindex="-1"><a class="header-anchor" href="#✅-8-停止-删除容器"><span>✅ 8. 停止/删除容器</span></a></h2><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token comment"># 停止</span></span>
<span class="line"><span class="token function">docker</span> stop kibana</span>
<span class="line"></span>
<span class="line"><span class="token comment"># 删除</span></span>
<span class="line"><span class="token function">docker</span> <span class="token function">rm</span> kibana</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><blockquote><p><strong>在 Windows 上使用 Docker Desktop 启动了 Elasticsearch 和 Kibana，Kibana 能否通过 <code>http://localhost:9200</code> 连接 Elasticsearch？</strong></p></blockquote><hr><h3 id="✅-简短回答" tabindex="-1"><a class="header-anchor" href="#✅-简短回答"><span>✅ 简短回答：</span></a></h3><p><strong>可以！在绝大多数情况下，Kibana 容器内使用 <code>http://localhost:9200</code> 是能正常连接到 Elasticsearch 的——但前提是：您使用的是 <code>host</code> 网络模式，或者正确配置了容器间通信。</strong></p><p>但默认情况下，<strong>Docker 容器的 <code>localhost</code> 不等于宿主机的 <code>localhost</code></strong>，所以需要特别注意网络配置。</p><hr><h2 id="🧩-问题本质-容器网络隔离" tabindex="-1"><a class="header-anchor" href="#🧩-问题本质-容器网络隔离"><span>🧩 问题本质：容器网络隔离</span></a></h2><ul><li>您在 Windows 上运行 Docker。</li><li>Elasticsearch 容器监听 <code>0.0.0.0:9200</code>，并通过 <code>-p 9200:9200</code> 映射到 Windows 主机。</li><li>Kibana 容器运行在自己的网络环境中。</li><li>Kibana 容器内的 <code>localhost</code> 指的是 <strong>它自己</strong>，而不是宿主机或 Elasticsearch 容器。</li></ul><p>所以，如果 Kibana 配置为：</p><div class="language-env line-numbers-mode" data-highlighter="prismjs" data-ext="env" data-title="env"><pre><code><span class="line">ELASTICSEARCH_HOSTS=http://localhost:9200</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>它会去访问 <strong>自己容器内部的 9200 端口</strong>，而那里没有 Elasticsearch，导致连接失败。</p><hr><h2 id="✅-正确解决方案" tabindex="-1"><a class="header-anchor" href="#✅-正确解决方案"><span>✅ 正确解决方案</span></a></h2><h3 id="✅-方案-1-使用-docker-自定义网络-推荐-✅" tabindex="-1"><a class="header-anchor" href="#✅-方案-1-使用-docker-自定义网络-推荐-✅"><span>✅ 方案 1：使用 Docker 自定义网络（推荐 ✅）</span></a></h3><p>这是最标准、最可靠的方式。</p><h4 id="_1-创建自定义网络" tabindex="-1"><a class="header-anchor" href="#_1-创建自定义网络"><span>1. 创建自定义网络</span></a></h4><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">docker</span> network create es-net</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h4 id="_2-启动-elasticsearch-并加入网络" tabindex="-1"><a class="header-anchor" href="#_2-启动-elasticsearch-并加入网络"><span>2. 启动 Elasticsearch 并加入网络</span></a></h4><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">docker</span> run <span class="token parameter variable">-d</span> <span class="token punctuation">\</span></span>
<span class="line">  <span class="token parameter variable">--name</span> elasticsearch <span class="token punctuation">\</span></span>
<span class="line">  <span class="token parameter variable">--network</span> es-net <span class="token punctuation">\</span></span>
<span class="line">  <span class="token parameter variable">-p</span> <span class="token number">9200</span>:9200 <span class="token punctuation">\</span></span>
<span class="line">  <span class="token parameter variable">-p</span> <span class="token number">9300</span>:9300 <span class="token punctuation">\</span></span>
<span class="line">  <span class="token parameter variable">-e</span> <span class="token string">&quot;discovery.type=single-node&quot;</span> <span class="token punctuation">\</span></span>
<span class="line">  <span class="token parameter variable">-e</span> <span class="token string">&quot;xpack.security.enabled=false&quot;</span> <span class="token punctuation">\</span></span>
<span class="line">  docker.elastic.co/elasticsearch/elasticsearch:7.17.18</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3-启动-kibana-并加入同一网络" tabindex="-1"><a class="header-anchor" href="#_3-启动-kibana-并加入同一网络"><span>3. 启动 Kibana 并加入同一网络</span></a></h4><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">docker</span> run <span class="token parameter variable">-d</span> <span class="token punctuation">\</span></span>
<span class="line">  <span class="token parameter variable">--name</span> kibana <span class="token punctuation">\</span></span>
<span class="line">  <span class="token parameter variable">--network</span> es-net <span class="token punctuation">\</span></span>
<span class="line">  <span class="token parameter variable">-p</span> <span class="token number">5601</span>:5601 <span class="token punctuation">\</span></span>
<span class="line">  <span class="token parameter variable">-e</span> <span class="token string">&quot;ELASTICSEARCH_HOSTS=http://elasticsearch:9200&quot;</span> <span class="token punctuation">\</span></span>
<span class="line">  <span class="token parameter variable">-e</span> <span class="token string">&quot;XPACK_SECURITY_ENABLED=false&quot;</span> <span class="token punctuation">\</span></span>
<span class="line">  docker.elastic.co/kibana/kibana:7.17.18</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>🔥 关键点：</p><ul><li><code>--network es-net</code>：两个容器在同一个网络</li><li><code>http://elasticsearch:9200</code>：使用容器名称作为主机名，Docker 会自动解析</li></ul></blockquote><p>✅ 这种方式在 Windows、Mac、Linux 上都适用。</p><hr><h3 id="✅-方案-2-使用-host-docker-internal-windows-mac-专用" tabindex="-1"><a class="header-anchor" href="#✅-方案-2-使用-host-docker-internal-windows-mac-专用"><span>✅ 方案 2：使用 <code>host.docker.internal</code>（Windows/Mac 专用）</span></a></h3><p>Docker Desktop 为 Windows 和 Mac 提供了一个特殊主机名：</p><blockquote><p><code>host.docker.internal</code></p></blockquote><p>它指向 <strong>宿主机（Windows）本身</strong>。</p><h4 id="启动-kibana-时使用" tabindex="-1"><a class="header-anchor" href="#启动-kibana-时使用"><span>启动 Kibana 时使用：</span></a></h4><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">docker</span> run <span class="token parameter variable">-d</span> <span class="token punctuation">\</span></span>
<span class="line">  <span class="token parameter variable">--name</span> kibana <span class="token punctuation">\</span></span>
<span class="line">  <span class="token parameter variable">-p</span> <span class="token number">5601</span>:5601 <span class="token punctuation">\</span></span>
<span class="line">  <span class="token parameter variable">-e</span> <span class="token string">&quot;ELASTICSEARCH_HOSTS=http://host.docker.internal:9200&quot;</span> <span class="token punctuation">\</span></span>
<span class="line">  <span class="token parameter variable">-e</span> <span class="token string">&quot;XPACK_SECURITY_ENABLED=false&quot;</span> <span class="token punctuation">\</span></span>
<span class="line">  docker.elastic.co/kibana/kibana:7.17.18</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>这样 Kibana 容器就能通过 <code>host.docker.internal:9200</code> 访问宿主机上的 Elasticsearch。</p><p>✅ 适用于：</p><ul><li>Elasticsearch 运行在 Windows 本机（非容器）</li><li>或 Elasticsearch 容器已通过 <code>-p 9200:9200</code> 暴露端口</li></ul><hr><h3 id="❌-方案-3-network-host-windows-不支持" tabindex="-1"><a class="header-anchor" href="#❌-方案-3-network-host-windows-不支持"><span>❌ 方案 3：<code>--network host</code>（Windows 不支持）</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token parameter variable">--network</span> <span class="token function">host</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>这种方式可以让容器共享宿主机网络，<code>localhost</code> 直接生效。</p><p>⚠️ <strong>但在 Windows 上的 Docker Desktop 中，<code>--network host</code> 不支持！</strong></p><p>所以这个方案 <strong>不可用</strong>。</p><hr><h2 id="✅-总结-windows-上推荐做法" tabindex="-1"><a class="header-anchor" href="#✅-总结-windows-上推荐做法"><span>✅ 总结：Windows 上推荐做法</span></a></h2><table><thead><tr><th>场景</th><th>推荐方案</th></tr></thead><tbody><tr><td>✅ <strong>Elasticsearch 和 Kibana 都用 Docker</strong></td><td><strong>使用 <code>docker network</code> + 容器名称（如 <code>http://elasticsearch:9200</code>）</strong></td></tr><tr><td>✅ <strong>Elasticsearch 在 Windows 本机运行（非 Docker）</strong></td><td>使用 <code>http://host.docker.internal:9200</code></td></tr><tr><td>✅ <strong>两个都用 Docker，但不想建网络</strong></td><td>确保 ES 暴露端口，Kibana 用 <code>http://host.docker.internal:9200</code></td></tr></tbody></table><hr><h2 id="✅-验证方法" tabindex="-1"><a class="header-anchor" href="#✅-验证方法"><span>✅ 验证方法</span></a></h2><p>进入 Kibana 容器测试连接：</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">docker</span> <span class="token builtin class-name">exec</span> <span class="token parameter variable">-it</span> kibana <span class="token function">bash</span></span>
<span class="line"><span class="token function">curl</span> http://elasticsearch:9200  <span class="token comment"># 或 host.docker.internal:9200</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>如果返回 Elasticsearch 的 JSON 信息，说明连接成功。</p><hr><h2 id="✅-最终建议" tabindex="-1"><a class="header-anchor" href="#✅-最终建议"><span>✅ 最终建议</span></a></h2><p>使用 <strong>自定义网络 + 容器名称</strong>，这是最标准、跨平台、可扩展的方式。</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token comment"># 1. 创建网络</span></span>
<span class="line"><span class="token function">docker</span> network create es-net</span>
<span class="line"></span>
<span class="line"><span class="token comment"># 2. 启动 ES</span></span>
<span class="line"><span class="token function">docker</span> run <span class="token parameter variable">-d</span> <span class="token parameter variable">--name</span> es <span class="token parameter variable">--network</span> es-net <span class="token parameter variable">-p</span> <span class="token number">9200</span>:9200 <span class="token parameter variable">-e</span> <span class="token string">&quot;discovery.type=single-node&quot;</span> <span class="token parameter variable">-e</span> <span class="token string">&quot;xpack.security.enabled=false&quot;</span> elasticsearch:7.17.18</span>
<span class="line"></span>
<span class="line"><span class="token comment"># 3. 启动 Kibana</span></span>
<span class="line"><span class="token function">docker</span> run <span class="token parameter variable">-d</span> <span class="token parameter variable">--name</span> kibana <span class="token parameter variable">--network</span> es-net <span class="token parameter variable">-p</span> <span class="token number">5601</span>:5601 <span class="token parameter variable">-e</span> <span class="token string">&quot;ELASTICSEARCH_HOSTS=http://es:9200&quot;</span> <span class="token parameter variable">-e</span> <span class="token string">&quot;XPACK_SECURITY_ENABLED=false&quot;</span> kibana:7.17.18</span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>✅ 完美运行，无网络问题。</p><hr></div></div><footer class="page-meta"><div class="meta-item edit-link"><span class="xicon-container left meta-item-label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 32 32" class="xicon-icon" style="width:20px;height:20px;font-size:20px;color:;"><path d="M2 26h28v2H2z" fill="currentColor"></path><path d="M25.4 9c.8-.8.8-2 0-2.8l-3.6-3.6c-.8-.8-2-.8-2.8 0l-15 15V24h6.4l15-15zm-5-5L24 7.6l-3 3L17.4 7l3-3zM6 22v-3.6l10-10l3.6 3.6l-10 10H6z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->Edit this page<!--]--></span></span></div><div class="meta-item last-updated"><span class="xicon-container left meta-item-label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewbox="0 0 32 32" class="xicon-icon" style="width:20px;height:20px;font-size:20px;color:;"><path d="M26 4h-4V2h-2v2h-8V2h-2v2H6c-1.1 0-2 .9-2 2v20c0 1.1.9 2 2 2h20c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 22H6V12h20v14zm0-16H6V6h4v2h2V6h8v2h2V6h4v4z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->Last Updated 2025/8/13 17:17:55<!--]--></span></span></div></footer><!----><div class="reco-valine-wrapper" style="display:none;"><div id="valine"></div></div></div><div class="page-catalog-container"><h5 class="tip">ON THIS PAGE</h5><ul><!--[--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blogs/gongzuo/elk/elk windowxiadockerbushu.html#logstash-的主要功能" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="Logstash 的主要功能"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->Logstash 的主要功能<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blogs/gongzuo/elk/elk windowxiadockerbushu.html#logstash-工作流程" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="Logstash 工作流程"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->Logstash 工作流程<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blogs/gongzuo/elk/elk windowxiadockerbushu.html#示例场景" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="示例场景"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->示例场景<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blogs/gongzuo/elk/elk windowxiadockerbushu.html#替代方案" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="替代方案"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->替代方案<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blogs/gongzuo/elk/elk windowxiadockerbushu.html#✅-对应关系-spring-data-elasticsearch-5-0-x-→-elasticsearch-7-17-x" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="✅ 对应关系：Spring Data Elasticsearch 5.0.x → Elasticsearch 7.17.x"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->✅ 对应关系：Spring Data Elasticsearch 5.0.x → Elasticsearch 7.17.x<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blogs/gongzuo/elk/elk windowxiadockerbushu.html#🐳-docker-镜像推荐" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="🐳 Docker 镜像推荐"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->🐳 Docker 镜像推荐<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blogs/gongzuo/elk/elk windowxiadockerbushu.html#🔗-版本对应表-spring-data-elasticsearch-→-elasticsearch" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="🔗 版本对应表（Spring Data Elasticsearch → Elasticsearch）"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->🔗 版本对应表（Spring Data Elasticsearch → Elasticsearch）<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blogs/gongzuo/elk/elk windowxiadockerbushu.html#✅-总结" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="✅ 总结"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->✅ 总结<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blogs/gongzuo/elk/elk windowxiadockerbushu.html#🛑-不要使用-elasticsearch-8-x-的-docker-镜像" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="🛑 不要使用 Elasticsearch 8.x 的 Docker 镜像"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->🛑 不要使用 Elasticsearch 8.x 的 Docker 镜像<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/blogs/gongzuo/elk/elk windowxiadockerbushu.html#✅-1-什么是-kibana" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="✅ 1. 什么是 Kibana？"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->✅ 1. 什么是 Kibana？<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/blogs/gongzuo/elk/elk windowxiadockerbushu.html#✅-2-安装-kibana-docker-方式-推荐" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="✅ 2. 安装 Kibana（Docker 方式，推荐）"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->✅ 2. 安装 Kibana（Docker 方式，推荐）<!--]--></span></span><!--[--><!--]--></a></li><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blogs/gongzuo/elk/elk windowxiadockerbushu.html#🐳-启动-kibana-容器" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="🐳 启动 Kibana 容器"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->🐳 启动 Kibana 容器<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--]--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/blogs/gongzuo/elk/elk windowxiadockerbushu.html#✅-3-访问-kibana" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="✅ 3. 访问 Kibana"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->✅ 3. 访问 Kibana<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/blogs/gongzuo/elk/elk windowxiadockerbushu.html#✅-4-常用功能入口" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="✅ 4. 常用功能入口"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->✅ 4. 常用功能入口<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/blogs/gongzuo/elk/elk windowxiadockerbushu.html#✅-5-示例-在-dev-tools-中测试-ids-查询" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="✅ 5. 示例：在 Dev Tools 中测试 IDs 查询"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->✅ 5. 示例：在 Dev Tools 中测试 IDs 查询<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/blogs/gongzuo/elk/elk windowxiadockerbushu.html#✅-6-与-spring-data-elasticsearch-配合使用" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="✅ 6. 与 Spring Data Elasticsearch 配合使用"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->✅ 6. 与 Spring Data Elasticsearch 配合使用<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/blogs/gongzuo/elk/elk windowxiadockerbushu.html#✅-7-注意事项" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="✅ 7. 注意事项"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->✅ 7. 注意事项<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/blogs/gongzuo/elk/elk windowxiadockerbushu.html#✅-8-停止-删除容器" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="✅ 8. 停止/删除容器"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->✅ 8. 停止/删除容器<!--]--></span></span><!--[--><!--]--></a></li><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blogs/gongzuo/elk/elk windowxiadockerbushu.html#✅-简短回答" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="✅ 简短回答："><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->✅ 简短回答：<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--]--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/blogs/gongzuo/elk/elk windowxiadockerbushu.html#🧩-问题本质-容器网络隔离" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="🧩 问题本质：容器网络隔离"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->🧩 问题本质：容器网络隔离<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/blogs/gongzuo/elk/elk windowxiadockerbushu.html#✅-正确解决方案" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="✅ 正确解决方案"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->✅ 正确解决方案<!--]--></span></span><!--[--><!--]--></a></li><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blogs/gongzuo/elk/elk windowxiadockerbushu.html#✅-方案-1-使用-docker-自定义网络-推荐-✅" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="✅ 方案 1：使用 Docker 自定义网络（推荐 ✅）"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->✅ 方案 1：使用 Docker 自定义网络（推荐 ✅）<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blogs/gongzuo/elk/elk windowxiadockerbushu.html#✅-方案-2-使用-host-docker-internal-windows-mac-专用" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="✅ 方案 2：使用 host.docker.internal（Windows/Mac 专用）"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->✅ 方案 2：使用 host.docker.internal（Windows/Mac 专用）<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/blogs/gongzuo/elk/elk windowxiadockerbushu.html#❌-方案-3-network-host-windows-不支持" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="❌ 方案 3：--network host（Windows 不支持）"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->❌ 方案 3：--network host（Windows 不支持）<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--]--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/blogs/gongzuo/elk/elk windowxiadockerbushu.html#✅-总结-windows-上推荐做法" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="✅ 总结：Windows 上推荐做法"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->✅ 总结：Windows 上推荐做法<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/blogs/gongzuo/elk/elk windowxiadockerbushu.html#✅-验证方法" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="✅ 验证方法"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->✅ 验证方法<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/blogs/gongzuo/elk/elk windowxiadockerbushu.html#✅-最终建议" class="router-link-active router-link-exact-active link page-catalog-item page-catalog-item" aria-label="✅ 最终建议"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:;font-size:14px;"><!--[-->✅ 最终建议<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--]--></ul></div></main><!--]--></div></div><!--[--><!----><!----><!--]--><!--]--></div>
    <script type="module" src="/assets/app-qwDAWgIM.js" defer></script>
  </body>
</html>
